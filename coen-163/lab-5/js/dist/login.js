(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459,6318],{65931:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(70655),o=r(67294),a=r(55518),c=r(49152),i=r(73077),s=(0,a.U8)({surface:!1})((0,i.LM)((function(e,t){var r=e.dense,a=e.raised,c=e.unelevated,s=e.outlined,d=e.danger,f=e.icon,h=e.label,p=e.trailingIcon,m=e.children,g=(0,n._T)(e,["dense","raised","unelevated","outlined","danger","icon","label","trailingIcon","children"]),b=(0,i.oC)(e,["mdc-button",{"mdc-button--dense":r,"mdc-button--raised":a,"mdc-button--unelevated":c,"mdc-button--outlined":s}]);if(d){var v=g.style||{};g.style=(0,n.pi)((0,n.pi)({},{"--mdc-theme-primary":"var(--mdc-theme-error)","--mdc-theme-on-primary":"var(--mdc-theme-on-error)"}),v)}return o.createElement(i.Vp,(0,n.pi)({tag:"button"},g,{ref:t,className:b}),o.createElement(u,null),!!f&&o.createElement(l,{icon:f}),o.createElement("span",{className:"mdc-button__label"},h,m),!!p&&o.createElement(l,{icon:p}))}))),u=o.memo((function(){return o.createElement("div",{className:"mdc-button__ripple"})})),l=(0,i.W5)((function(e,t){var r=(0,i.oC)(e,["mdc-button__icon"]);return o.createElement(c.J,(0,n.pi)({},e,{className:r,ref:t}))}))},93086:function(e,t,r){"use strict";r.d(t,{r:function(){return m}});var n=r(70655),o=r(67294),a=r(73077),c=r(58641),i=r.n(c),s=r(55518),u=r(39315),l=r(25849),d=r(6308),f={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},h={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},p=function(e){function t(r){return e.call(this,n.pi({},t.defaultAdapter,r))||this}return n.ZT(t,e),Object.defineProperty(t,"strings",{get:function(){return h},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter_.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter_.setNativeControlDisabled(e),e?this.adapter_.addClass(f.DISABLED):this.adapter_.removeClass(f.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter_.addClass(f.CHECKED):this.adapter_.removeClass(f.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter_.setNativeControlAttr(h.ARIA_CHECKED_ATTR,""+!!e)},t}(d.K),m=(0,a.LM)((function(e,t){var r,c=function(e){var t=(0,u.Y)(e),r=t.renderToggle,a=t.toggleRootProps,c=t.id,i=(0,l.j)({props:e,elements:{rootEl:!0,checkboxEl:!0},foundation:function(e){var t=e.rootEl,r=e.checkboxEl;return new p({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},setNativeControlChecked:function(e){return r.setProp("checked",e)},setNativeControlDisabled:function(e){return r.setProp("disabled",e)},setNativeControlAttr:function(e,r){return t.setProp(e,r)}})}}),s=i.foundation,d=(0,n._T)(i,["foundation"]),f=d.checkboxEl;return(0,o.useEffect)((function(){f.ref&&s.updateCheckedStyling_(f.ref.checked),f.ref&&s.setDisabled(f.ref.disabled)}),[f.ref,s]),(0,o.useEffect)((function(){void 0!==e.checked&&s.updateCheckedStyling_(e.checked)}),[e.checked,s]),(0,o.useEffect)((function(){void 0!==e.disabled&&s.setDisabled(e.disabled)}),[e.disabled,s]),f.setProp("onChange",(function(t){var r;s.handleChange(t),null===(r=e.onChange)||void 0===r||r.call(e,t)}),!0),(0,n.pi)({foundation:s,renderToggle:r,toggleRootProps:a,id:c},d)}(e),i=c.renderToggle,s=c.id,d=c.toggleRootProps,f=c.rootEl,h=c.checkboxEl,m=(0,a.oC)(d,["mdc-switch"]),w=(e.children,e.className,e.label,e.style,e.inputRef),E=(e.foundationRef,(0,n._T)(e,["children","className","label","style","inputRef","foundationRef"]));return i(o.createElement(a.Vp,(0,n.pi)({},f.props((0,n.pi)((0,n.pi)({},d),{className:m})),{ref:t}),o.createElement(g,null),o.createElement(_,null,o.createElement(v,null),o.createElement("input",(0,n.pi)({},h.props((0,n.pi)((0,n.pi)({},E),{className:"mdc-switch__native-control"})),{type:"checkbox",id:s,ref:(0,a.lq)(h.setRef,w),role:"switch","aria-checked":null!==(r=E.checked)&&void 0!==r?r:E["aria-checked"]}))),o.createElement(b,null)))})),g=o.memo((function(){return o.createElement("div",{className:"mdc-switch__track"})})),b=o.memo((function(){return o.createElement("div",{className:"mdc-switch__knob"})})),v=o.memo((function(){return o.createElement("div",{className:"mdc-switch__thumb"})})),_=(0,s.U8)({unbounded:!0,surface:!1})((function(e){var t=e.className,r=(0,n._T)(e,["className"]);return o.createElement("div",(0,n.pi)({className:i()(t,"mdc-switch__thumb-underlay")},r))}))},19065:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(92809),o=r(91164),a=r(65931),c=r(41664),i=r(67294),s=r(94184),u=r.n(s),l=r(85893);function d(){return(0,l.jsx)("svg",{width:"40",height:"40",version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("g",{transform:"translate(-3,-3)",fill:"none",fillRule:"evenodd",children:(0,l.jsxs)("g",{transform:"translate(-1,-1)",children:[(0,l.jsx)("g",{transform:"translate(4,4)",children:(0,l.jsxs)("g",{children:[(0,l.jsx)("use",{width:"100%",height:"100%",fill:"#ffffff",fillRule:"evenodd"}),(0,l.jsxs)("g",{fill:"none",children:[(0,l.jsx)("use",{width:"100%",height:"100%"}),(0,l.jsx)("use",{width:"100%",height:"100%"}),(0,l.jsx)("use",{width:"100%",height:"100%"})]})]})}),(0,l.jsxs)("g",{transform:"translate(15,15)",children:[(0,l.jsx)("path",{d:"m17.64 9.2045c0-0.63818-0.05727-1.2518-0.16364-1.8409h-8.4764v3.4814h4.8436c-0.20864 1.125-0.84273 2.0782-1.7959 2.7164v2.2582h2.9086c1.7018-1.5668 2.6836-3.8741 2.6836-6.615z",fill:"#4285f4"}),(0,l.jsx)("path",{d:"m9 18c2.43 0 4.4673-0.80591 5.9564-2.1805l-2.9086-2.2582c-0.80591 0.54-1.8368 0.85909-3.0477 0.85909-2.3441 0-4.3282-1.5832-5.0359-3.7105h-3.0068v2.3318c1.4809 2.9414 4.5245 4.9582 8.0427 4.9582z",fill:"#34a853"}),(0,l.jsx)("path",{d:"m3.9641 10.71c-0.18-0.54-0.28227-1.1168-0.28227-1.71s0.10227-1.17 0.28227-1.71v-2.3318h-3.0068c-0.60955 1.215-0.95727 2.5895-0.95727 4.0418 0 1.4523 0.34773 2.8268 0.95727 4.0418z",fill:"#fbbc05"}),(0,l.jsx)("path",{d:"m9 3.5795c1.3214 0 2.5077 0.45409 3.4405 1.3459l2.5814-2.5814c-1.5586-1.4523-3.5959-2.3441-6.0218-2.3441-3.5182 0-6.5618 2.0168-8.0427 4.9582l3.0068 2.3318c0.70773-2.1273 2.6918-3.7105 5.0359-3.7105z",fill:"#ea4335"}),(0,l.jsx)("path",{d:"m0 0h18v18h-18z"})]})]})})})}function f(e){var t=e.className;return(0,l.jsx)("svg",{className:t,focusable:"false",width:"13",height:"10",xmlns:"http://w3.org/2000/svg",children:(0,l.jsx)("path",{fill:"currentColor",d:"M13 5.053c0-.316-.1-.526-.403-.737l-.806-.526-.706-.316L9.07 2.21s-.101 0-.101-.106l-.605-.21-.504-.421-.1-.105-.706-.316L6.45.632 5.744.105C5.442-.105 4.938 0 4.736.316c-.201.316-.201.842.202 1.053l.705.526.807.526.705.316.403.421.1.105.706.316 1.008.632h-.604l-.706.105H6.45l-1.714-.105-2.317.105-.807-.105H.806c-.504 0-.806.316-.806.737 0 .42.302.842.705.842h.706l.806.105h.1l2.319-.105 1.612.105h2.016l.705-.105h.504L7.76 6.842l-.706.421-.705.421s-.1 0-.1.106l-.606.42-.705.317c-.403.21-.504.736-.302 1.052.201.316.403.421.705.421.1 0 .202 0 .403-.105l.706-.421.604-.421.706-.421.604-.421 1.411-.737.706-.421 1.31-.842.504-.316c.201 0 .302-.21.403-.316.201-.21.302-.316.302-.526z"})})}var h=r(88649),p=r.n(h),m=["arrow","google","className","children","href"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=e.arrow,r=e.google,s=e.className,h=e.children,g=e.href,v=(0,o.Z)(e,m),_=(0,i.useMemo)((function(){var e;return(0,l.jsxs)(a.z,b(b({},v),{},{className:u()(p().button,s,(e={},(0,n.Z)(e,p().arrowButton,t),(0,n.Z)(e,p().googleButton,r),e)),children:[r&&(0,l.jsx)("div",{className:p().googleLogo,children:(0,l.jsx)(d,{})}),h,t&&(0,l.jsx)(f,{className:p().arrowIcon})]}))}),[s,t,r,h,v]);return g?(0,l.jsx)(c.default,{href:g,children:(0,l.jsx)("a",{className:p().link,children:_})}):_}},65317:function(e,t,r){"use strict";r.d(t,{C:function(){return m}});var n=r(49711),o=r(92809),a=r(30266),c=r(809),i=r.n(c),s=r(9669),u=r.n(s),l=r(40821),d=r(41800),f=r(92762);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(i().mark((function e(t,o){var a,c,s,h,m,g,b,v,_,w,E,j,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(3409),r.e(3264)]).then(r.bind(r,3264));case 2:return a=e.sent,c=a.default,e.next=6,Promise.all([r.e(834),r.e(3409),r.e(6690)]).then(r.bind(r,16690));case 6:return s=c.auth(),e.next=9,s.setPersistence(c.auth.Auth.Persistence.NONE);case 9:return h=new c.auth.GoogleAuthProvider,o&&h.setCustomParameters({hd:"*"}),e.next=13,s.signInWithPopup(h);case 13:if((m=e.sent).user){e.next=16;break}throw new Error("Did not receive user information.");case 16:return g={id:m.user.uid,name:m.user.displayName,photo:m.user.photoURL,email:m.user.email,phone:m.user.phoneNumber},b=new f.n5(p(p({},t),g)),e.next=20,m.user.getIdToken();case 20:return v=e.sent,e.next=23,(0,d.Z)(u().put("/api/account",p(p({},b.toJSON()),{},{token:v})));case 23:if(_=e.sent,w=(0,n.Z)(_,2),E=w[0],j=w[1],!E||!E.response){e.next=29;break}throw new Error(E.response.data.message);case 29:if(!E||!E.request){e.next=31;break}throw new Error("Users API did not respond.");case 31:if(!E){e.next=33;break}throw new Error("Error calling user API: ".concat(E.message));case 33:return y=j.data,e.next=36,(0,l.JG)("/api/account",y,!1);case 36:return e.abrupt("return",f.n5.fromJSON(y));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},15065:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(11163),o=r(67294),a=r(91997),c=r(29635);function i(e){var t=(0,a.a)().loggedIn,r=(0,n.useRouter)().query,i=(0,o.useMemo)((function(){return decodeURIComponent(r.href||"overview")}),[r.href]);(0,o.useEffect)((function(){t&&n.default.push(i)}),[i,t]),(0,o.useEffect)((function(){n.default.prefetch(i)}),[i]),(0,c.Z)(e,{login:!1,admin:!1})}},29635:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(11163),o=r(67294),a=r(91997);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.login,c=t.admin,i=(0,a.a)(),s=i.loggedIn,u=i.orgs,l=i.orgsLoaded,d=(0,n.useRouter)(),f=d.query,h=d.asPath,p=(0,o.useMemo)((function(){return"/login?href=".concat(encodeURIComponent(h))}),[h]);(0,o.useEffect)((function(){r&&n.default.prefetch(p)}),[r,p]),(0,o.useEffect)((function(){r&&!1===s&&!p.includes("undefined")&&n.default.replace(p)}),[r,s,p]),(0,o.useEffect)((function(){var t;null===(t=window.analytics)||void 0===t||t.page("",e,{orgId:f.org||"default"})}),[e,f.org]),(0,o.useEffect)((function(){c&&n.default.prefetch("/404")}),[c]),(0,o.useEffect)((function(){c&&!0===s&&l&&!u.some((function(e){return e.id===f.org}))&&n.default.replace("/404")}),[c,s,u,f.org,l])}},42796:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return I},default:function(){return T}});var n=r(92809),o=r(64206),a=r(49711),c=r(30266),i=r(809),s=r.n(i),u=r(67294),l=r(11163),d=r(9669),f=r.n(d),h=r(74865),p=r.n(h),m=r(12159),g=r(41800),b=r(70839),v=r(19065);function _(){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(s().mark((function e(){var t,r,n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("https://ipinfo.io/json?token=".concat("fd414a7e0ab929"));case 2:return t=e.sent,r=t.data,n=r.city,o=r.region,a=r.country,e.abrupt("return","".concat(n,", ").concat(o,", ").concat(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=r(21200),j=r(65317),y=r(87639),C=r(42198),x=r.n(C),O=r(85893);function k(){var e=(0,l.useRouter)().query,t=(0,b.Z)().t,r=(0,u.useState)(""),n=r[0],o=r[1],i=(0,u.useState)(!1),d=i[0],h=i[1];(0,u.useEffect)((function(){d?(p().start(),o("")):p().done()}),[d]),(0,u.useEffect)((function(){n&&h(!1)}),[n]);var w=(0,y.Z)(),C=(0,u.useMemo)((function(){return decodeURIComponent(e.href||"overview")}),[e.href]),k=(0,u.useState)(""),N=k[0],P=k[1],D=(0,u.useCallback)(function(){var t=(0,c.Z)(s().mark((function t(r){var n,c,i,u,d,p,m,b,v;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),h(!0),localStorage.setItem("email",N),w("Email Login Started",{email:N}),t.next=6,(0,g.Z)(_());case 6:if(n=t.sent,c=(0,a.Z)(n,2),i=c[0],u=c[1],!i){t.next=13;break}return w("Email Login Errored",{error:(0,E.N6)(i.message)}),t.abrupt("return",o((0,E.N6)(i.message)));case 13:return t.next=15,(0,g.Z)(f().post("/api/login",{email:N,location:u,redirect:C}));case 15:if(d=t.sent,p=(0,a.Z)(d,1),!(m=p[0])){t.next=22;break}return v=(null===(b=m.response)||void 0===b?void 0:b.data)||m,w("Email Login Errored",{error:(0,E.N6)(v.message)}),t.abrupt("return",o((0,E.N6)(v.message)));case 22:return t.abrupt("return",l.default.push({pathname:"/awaiting-confirm",query:{email:N,href:e.href}}));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[w,N,C,e.href]),S=(0,u.useCallback)((0,c.Z)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),w("Google Login Started"),e.next=4,(0,g.Z)((0,j.C)());case 4:if(t=e.sent,r=(0,a.Z)(t,1),!(n=r[0])){e.next=10;break}return w("Google Login Errored",{error:(0,E.N6)(n.message)}),e.abrupt("return",o((0,E.N6)(n.message)));case 10:return e.abrupt("return",l.default.push(C));case 11:case"end":return e.stop()}}),e)}))),[w,C]);return(0,O.jsx)("div",{className:x().wrapper,children:(0,O.jsxs)("div",{className:x().content,children:[(0,O.jsx)("h2",{children:"Welcome"}),(0,O.jsx)(v.Z,{onClick:S,label:"Continue with Google",disabled:d,google:!0,raised:!0,arrow:!0}),(0,O.jsx)("div",{className:x().divider,children:(0,O.jsx)("span",{children:"Or, sign in with your email"})}),(0,O.jsxs)("form",{onSubmit:D,children:[(0,O.jsx)(m.n,{label:"Your email address",placeholder:"Ex: you@domain.com",disabled:d,value:N,onChange:function(e){return P(e.currentTarget.value)},type:"email",required:!0,outlined:!0}),(0,O.jsx)(v.Z,{label:"Continue with email",disabled:d,raised:!0,arrow:!0})]}),!!n&&(0,O.jsx)("div",{"data-cy":"error",className:x().error,children:t("login:error",{error:n})})]})})}var N=r(44629),P=r(15065),D=r(62895),S=r(40464),Z=r(16318);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=!0,T=(0,D.GV)((function(e){return(0,P.Z)("Login"),(0,O.jsxs)(N.Z,R(R({title:"Login - Tutorbook",description:"Welcome to Tutorbook. Login with Google or email to manage your organization, onboard volunteers, match students, schedule lessons, and scale your tutoring programs."},e),{},{children:[(0,O.jsx)(o.E,{}),(0,O.jsx)(k,{})]}))}),{common:S,login:Z})},87237:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(42796)}])},88649:function(e){e.exports={link:"button_link__SlUmL",button:"button_button__eJwei","mdc-button__ripple":"button_mdc-button__ripple__M5MTT",googleButton:"button_googleButton__sZcog",googleLogo:"button_googleLogo__yYNCM",arrowButton:"button_arrowButton__CPhVl",arrowIcon:"button_arrowIcon__20IB6"}},42198:function(e){e.exports={wrapper:"login_wrapper__6td7U",content:"login_content__JDa9C",divider:"login_divider__7c_ao",error:"login_error__SqwNH"}},16318:function(e){"use strict";e.exports=JSON.parse('{"title":"Welcome","google":"Continue with Google","signup":"Don\'t have an account? Signup here","error":"Hmm, it looks like we hit a snag. {{error}}"}')}},function(e){e.O(0,[1488,2159,2627,4206,9774,2888,179],(function(){return t=87237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);