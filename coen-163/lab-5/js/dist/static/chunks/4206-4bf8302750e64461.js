(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4206],{64206:function(e,n,r){"use strict";r.d(n,{E:function(){return X},G:function(){return Y}});var t=r(92809),i=r(91164),a=r(67294),s=r(41664),c=r(94184),o=r.n(c),l=r(30350),d=r(90003),u=r(91997),h=r(51160),v=r(26383),m=r.n(v),p=r(85893);function _(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function f(e){var n=e.label,r=e.onClick,i=e.active;return(0,p.jsx)("button",{role:"tab",type:"button","aria-selected":i,className:o()(m().tab,(0,t.Z)({},m().active,i)),onClick:r,children:n})}function x(e){var n=e.label,r=e.href,i=e.active;return r.indexOf("http")<0?(0,p.jsx)(h.Z,{href:r,children:(0,p.jsx)("a",{className:o()(m().tab,(0,t.Z)({},m().active,i)),children:n})}):(0,p.jsx)("a",{href:r,className:o()(m().tab,(0,t.Z)({},m().active,i)),children:n})}function g(e){var n=e.tabs;return(0,p.jsx)("div",{className:m().tabs,children:n.map((function(e){return function(e){return void 0!==e.href}(e)?(0,p.jsx)(x,j({},e),e.label):(0,p.jsx)(f,j({},e),e.label)}))})}var b=r(30266),w=r(809),N=r.n(w),k=r(10072),O=r(56956),y=r(55518),Z=r(93086),C=r(70839),L=r(55163);function P(){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[(0,p.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,p.jsx)("path",{d:"M11.5 2C6.81 2 3 5.81 3 10.5S6.81 19 11.5 19h.5v3c4.86-2.34 8-7 8-11.5C20 5.81 16.19 2 11.5 2zm1 14.5h-2v-2h2v2zm0-3.5h-2c0-3.25 3-3 3-5 0-1.1-.9-2-2-2s-2 .9-2 2h-2c0-2.21 1.79-4 4-4s4 1.79 4 4c0 2.5-3 2.75-3 5z"})]})}var W=r(94026),S=r(92762),E=r(24855),D=r(59266),T=r.n(D);function z(e){var n=e.href,r=e.children,t=e.icon;return(0,p.jsx)(y.HW,{children:(0,p.jsxs)("div",{className:T().item,children:[t&&(0,p.jsx)("div",{className:T().icon,children:t}),(0,p.jsx)(h.Z,{href:n,children:(0,p.jsx)("a",{className:T().itemLink,children:r})})]})})}function G(e){var n=e.onClick,r=e.children,t=e.icon,i=e.id;return(0,p.jsx)(y.HW,{children:(0,p.jsxs)("button",{id:i,type:"button",onClick:n,className:T().item,children:[t&&(0,p.jsx)("div",{className:T().icon,children:t}),(0,p.jsx)("span",{className:T().label,children:r})]})})}function I(){var e=(0,C.Z)().t,n=(0,E.F)(),r=n.dark,t=n.setTheme;return(0,p.jsxs)(O.W,{className:o()(T().item,T().switch),children:[(0,p.jsx)("div",{className:T().icon,children:(0,p.jsx)(Z.r,{id:"dark-mode",checked:r,onClick:function(){return t(r?"light":"dark")}})}),(0,p.jsx)("label",{htmlFor:"dark-mode",className:T().label,children:e("common:toggle-theme")})]})}function A(e){var n=e.account;return(0,p.jsxs)("div",{"data-cy":"account-header",className:o()(T().item,T().header),children:[(0,p.jsx)("div",{className:T().avatar,children:(0,p.jsx)(l.Z,{size:24,src:n.photo})}),(0,p.jsx)("span",{className:T().label,children:n.name})]})}function F(e){var n=e.account,r=e.href;return(0,p.jsx)(y.HW,{children:(0,p.jsx)("div",{className:T().item,children:(0,p.jsx)(h.Z,{href:r,children:(0,p.jsxs)("a",{className:T().itemLink,children:[(0,p.jsx)("div",{className:T().avatar,children:(0,p.jsx)(l.Z,{size:24,src:n.photo})}),(0,p.jsx)("span",{className:T().label,children:n.name})]})})})})}function H(e){var n=e.open,r=e.onClose,t=e.children,i=(0,C.Z)().t,s=(0,u.a)(),c=s.user,o=s.updateUser,l=s.orgs,d=(0,a.useState)(!1),h=d[0],v=d[1],m=(0,a.useCallback)((0,b.Z)(N().mark((function e(){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("/api/logout");case 3:return e.next=5,o(new S.n5({langs:["en"]}));case 5:null===(n=window.analytics)||void 0===n||n.reset(),(0,W.Z)("shutdown"),(0,W.Z)("boot");case 8:case"end":return e.stop()}}),e)}))),[]);return(0,p.jsxs)(k.W,{className:T().anchor,children:[t,(0,p.jsx)(k.g,{open:n,onClose:r,children:(0,p.jsxs)("div",{"data-cy":"picker",className:T().picker,children:[(0,p.jsx)(A,{account:c}),(0,p.jsx)(z,{href:"/".concat(c.orgs[0]||"default","/search"),children:i("common:search")}),(0,p.jsx)(z,{href:"/calendar",children:i("common:calendar")}),(0,p.jsx)(z,{href:"/profile",children:i("common:profile")}),l.map((function(e){return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)("div",{className:T().line}),(0,p.jsx)(A,{account:e}),(0,p.jsx)(z,{href:"/".concat(e.id,"/overview"),children:i("common:overview")}),(0,p.jsx)(z,{href:"/".concat(e.id,"/users"),children:i("common:users")}),(0,p.jsx)(z,{href:"/".concat(e.id,"/calendar"),children:i("common:calendar")}),(0,p.jsx)(z,{href:"/".concat(e.id,"/settings"),children:i("common:settings")})]},e.id)})),(0,p.jsx)("div",{className:T().line}),(0,p.jsx)(G,{id:"create-org",icon:(0,p.jsx)(L.Z,{}),onClick:function(){return(0,W.Z)("showNewMessage",i("common:new-org-msg"))},children:i("common:new-org-btn")}),(0,p.jsx)(G,{id:"get-help",icon:(0,p.jsx)(P,{}),onClick:function(){return(0,W.Z)("show")},children:i("common:launch-intercom")}),(0,p.jsx)("div",{className:T().line}),(0,p.jsx)(I,{}),(0,p.jsx)("div",{className:T().line}),(0,p.jsx)(G,{id:"logout",onClick:m,children:i(h?"common:logging-out":"common:logout")})]})})]})}var B=r(11163);function R(){var e=(0,C.Z)().t,n=(0,B.useRouter)(),r=n.pathname,t=n.query,i=(0,u.a)(),s=i.user,c=i.orgs,o=i.loggedIn,l=(0,a.useState)(!1),d=l[0],h=l[1],v=(0,a.useState)("Account"),m=v[0],_=v[1];(0,a.useEffect)((function(){var e=c.findIndex((function(e){return e.id===t.org}));return _(e<0?"Account":c[e].name)}),[c,t]);var j=(0,a.useMemo)((function(){return r.includes("[org]")?r.split("/").slice(2).join("/"):r.includes("calendar")?"calendar":r.includes("profile")?"settings":"overview"}),[r]),f=(0,a.useMemo)((function(){return r.includes("calendar")?"/calendar":r.includes("settings")?"/profile":"/overview"}),[r]);return(0,p.jsxs)(k.W,{children:[(0,p.jsx)(k.g,{className:T().menu,open:d,onClose:function(){return h(!1)},children:(0,p.jsxs)("div",{"data-cy":"switcher-list",className:T().picker,children:[(0,p.jsx)("div",{className:T().header,children:e("common:personal-account")}),(0,p.jsx)(F,{account:s,href:f}),c&&!!c.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:T().line}),(0,p.jsx)("div",{className:T().header,children:e("common:organizations")}),c.map((function(e){return(0,p.jsx)(F,{account:e,href:"/".concat(e.id,"/").concat(j)},e.id)}))]}),(0,p.jsx)("div",{className:T().line}),(0,p.jsx)(G,{icon:(0,p.jsx)(L.Z,{}),onClick:function(){return(0,W.Z)("showNewMessage",e("common:new-org-msg"))},children:e("common:new-org-btn")})]})}),(0,p.jsx)("div",{className:T().selector,children:(0,p.jsx)("button",{type:"button",disabled:!o,onClick:function(){return h(!0)},"data-cy":"switcher-btn","aria-expanded":d,"aria-haspopup":!0,className:T().button,children:(0,p.jsxs)("div",{className:T().wrapper,children:[(0,p.jsx)("div",{className:T().selected,children:(0,p.jsx)("span",{className:T().selectedText,children:m})}),(0,p.jsx)("div",{className:T().arrowWrapper,children:(0,p.jsx)("div",{className:T().arrow})})]})})})]})}var M=r(61709),q=r.n(M),U=["switcher"];function J(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function K(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?J(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Q(){var e=(0,u.a)().user,n=(0,d.s)().org;return(0,p.jsx)(s.default,{href:e.id?"/overview":"/".concat((null===n||void 0===n?void 0:n.id)||""),children:(0,p.jsx)("a",{className:q().logo,children:(0,p.jsx)("span",{children:"TB"})})})}function V(){var e=(0,u.a)(),n=e.user,r=e.loggedIn,t=(0,a.useState)(!1),i=t[0],c=t[1];return(0,p.jsxs)("div",{className:q().desktopLinks,children:[!1===r&&(0,p.jsx)(s.default,{href:"/login",children:(0,p.jsx)("a",{className:"".concat(q().desktopLink," ").concat(q().loginLink),children:"Login"})}),void 0===r&&(0,p.jsx)("div",{className:q().avatar,children:(0,p.jsx)(l.Z,{size:40,loading:!0})}),!0===r&&(0,p.jsx)(H,{open:i,onClose:function(){return c(!1)},children:(0,p.jsx)("button",{type:"button",id:"open-nav",className:q().avatar,onClick:function(){return c(!0)},children:(0,p.jsx)(l.Z,{size:40,src:n.photo})})})]})}function Y(e){var n=e.switcher,r=(0,i.Z)(e,U);return(0,p.jsx)("div",{className:q().wrapper,children:(0,p.jsxs)("header",{className:q().header,children:[(0,p.jsxs)("div",{className:q().left,children:[(0,p.jsx)(Q,{}),n&&(0,p.jsx)(R,{}),(0,p.jsx)(g,K({},r))]}),(0,p.jsx)("div",{className:q().right,children:(0,p.jsx)(V,{})})]})})}function X(e){var n,r=e.formWidth,i=e.borderless,s=(0,a.useState)(!1),c=s[0],l=s[1];return(0,a.useEffect)((function(){var e=function(){return l(window.scrollY>0)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),(0,p.jsx)("div",{className:o()(q().wrapper,(n={},(0,t.Z)(n,q().formWidth,r),(0,t.Z)(n,q().borderless,i&&!c),n)),children:(0,p.jsxs)("header",{className:q().header,children:[(0,p.jsx)("div",{className:q().left,children:(0,p.jsx)(Q,{})}),(0,p.jsx)("div",{className:q().right,children:(0,p.jsx)(V,{})})]})})}},51160:function(e,n,r){"use strict";r.d(n,{Z:function(){return t.default}});var t=r(41664)},61709:function(e){e.exports={wrapper:"navigation_wrapper__D6WHq",queryHeader:"navigation_queryHeader__s4u0s",borderless:"navigation_borderless__T_Fda",header:"navigation_header__I10_6",formWidth:"navigation_formWidth__1RGQm",center:"navigation_center__mGKDO",left:"navigation_left__KByLU",right:"navigation_right__URitj",avatar:"navigation_avatar__djGYa",logo:"navigation_logo__RdvmJ",mobileToggle:"navigation_mobileToggle__V4emt",toggle:"navigation_toggle__1OlB3",toggleActive:"navigation_toggleActive__ufveL",mobileNav:"navigation_mobileNav__qIrbk",mobileNavActive:"navigation_mobileNavActive__47KO4",mobileLinks:"navigation_mobileLinks__tF8o5",mobileLink:"navigation_mobileLink__ZJkKG",mobileLinkItem:"navigation_mobileLinkItem__PV_w_",desktopLinks:"navigation_desktopLinks__2vz7A",desktopLink:"navigation_desktopLink___PBmR",active:"navigation_active__y6sgy",loginLink:"navigation_loginLink__On3SE"}},59266:function(e){e.exports={anchor:"pop-over_anchor__HxTup",picker:"pop-over_picker__ArDky",header:"pop-over_header__qb1CC",line:"pop-over_line__DF4vk",item:"pop-over_item__9SRJa",label:"pop-over_label__OTgft",switch:"pop-over_switch__gtBp_",avatar:"pop-over_avatar__ncpi9",icon:"pop-over_icon__Gb0GB",selector:"pop-over_selector__RrGHi",button:"pop-over_button__WItSG",wrapper:"pop-over_wrapper__fbSCo",selected:"pop-over_selected__8BCPR",selectedIcon:"pop-over_selectedIcon__JGQO5",selectedText:"pop-over_selectedText__8PS4A",arrowWrapper:"pop-over_arrowWrapper__vMF_W",arrow:"pop-over_arrow__TdUOf"}},26383:function(e){e.exports={tabs:"tabs_tabs__oExFm",tab:"tabs_tab__Q5hEd",active:"tabs_active__VUYLe"}}}]);